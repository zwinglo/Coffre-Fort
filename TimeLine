Cronología detallada del proyecto Coffre-Fort

1. Arranque del repositorio
- Creamos el depósito Android con el esqueleto básico (.gitignore, README) y validamos que la estructura Gradle compilara en limpio.
- Documentamos el objetivo inicial: una aplicación de bóveda de documentos con autenticación y gestión local.

2. Construcción del núcleo de la app
- Implementamos el flujo completo de autenticación, creación/listado de documentos y persistencia en SQLite (AndroidManifest.xml, DatabaseHelper.java, LoginActivity.java, MainActivity.java y los layouts). Decidimos mantener todo en Java para reducir dependencias y facilitar la depuración en dispositivos antiguos.
- Ajustamos Gradle y el README para fijar versiones y aclarar el alcance, después de ver advertencias de sincronización por propiedades faltantes en gradle.properties.

3. Refuerzo de seguridad
- Introdujimos el hashing SHA-256 del password y eliminamos permisos sobrantes del manifiesto, tras detectar en los logs que la contraseña se almacenaba en claro. Se añadieron cadenas traducidas para evitar literales sensibles en código (LoginActivity.java, DatabaseHelper.java, AndroidManifest.xml, res/values/strings.xml).
- Corregimos la validación de hash asegurando el uso explícito de UTF-8 y un manejo seguro de fallos al comparar contraseñas, evitando discrepancias observadas en pruebas en dispositivos con codificaciones distintas (DatabaseHelper.java, LoginActivity.java).

4. Primeras integraciones de mensajería y adjuntos
- Añadimos el envío automático por email y la gestión de adjuntos en documentos, tras encontrar un NullPointerException al intentar acceder a piezas no inicializadas en el adaptador. Se revisaron DocumentAdapter.java, DatabaseHelper.java, MailSender.java y res/layout/item_document.xml para inicializar y validar los campos antes de usarlos.

5. Estabilidad de compilación y dependencias
- Repetimos ajustes de entorno por fallos de Gradle relacionados con JAVA_HOME ausente y dependencias Kotlin no utilizadas. Limpiamos propiedades redundantes y recursos XML duplicados (gradle.properties, local.properties, app/build.gradle, res/values/strings.xml) para estabilizar la sincronización.

6. Cambio de librería de correo
- Los builds fallaron por conflictos de empaquetado con javax.mail al ofuscar; migramos a Jakarta Mail y reforzamos la validación previa al envío para evitar IllegalArgumentException por parámetros vacíos (app/build.gradle, MailSender.java, proguard-rules.pro).

7. Actualización visual
- Consolidamos la paleta de colores, adoptamos un tema NoActionBar y añadimos logo y fondo para mejorar legibilidad en pantallas oscuras. Se retiraron estilos heredados que provocaban warnings de deprecación (res/values/colors.xml, res/values/styles.xml, res/drawable/background.png, Media).

8. Pantalla de ajustes ampliada
- Sumamos gestión del password, contador de documentos, permisos SMS/MMS y configuración de email traducida. Se resolvió un crash por falta de comprobación de permisos antes de consultar el estado de SMS (SettingsActivity.java, activity_settings.xml, res/values/strings.xml).

9. Automatización de SMS
- Incorporamos el reenvío automático, un botón de test de correo y marcamos los BroadcastReceiver como exportés según exigencias de Android 12+, corrigiendo el error Manifest merger failed que aparecía por atributos export faltantes (AndroidManifest.xml, SmsReceiver.java, SettingsActivity.java).
- Habilitamos la ingestión automática de SMS y refresco de la lista local, corrigiendo un fallo donde los mensajes duplicados generaban claves primarias repetidas; ajustamos las consultas y actualizaciones en SmsReceiver.java, DatabaseHelper.java y MainActivity.java.

10. Soporte MMS y multimedia
- Implementamos la lectura de MMS y descarga de piezas adjuntas mediante FileProvider, solucionando errores de permisos (SecurityException) al intentar abrir archivos temporales sin autoridad declarada (MmsReceiver.java, MmsService.java, DatabaseHelper.java).

11. Respaldo automático y sincronización
- Añadimos BackupWorker para sincronizar y archivar SMS/MMS en segundo plano. Se corrigió un problema de timeouts en colas largas fragmentando las operaciones y reutilizando conexiones (BackupWorker.java, SmsReceiver.java, MmsReceiver.java).

12. Documentación final
- Actualizamos README para reflejar la automatización SMS/MMS, el envío por email, el modelo de datos y las mejoras de seguridad, dejando trazabilidad completa del proceso y de las decisiones tomadas.
